/* PaymentInvoiceManagement.css
   White UI, no bootstrap, scoped to pim-* and dropdown classes
*/

.pim-root {
  --bg: #f6f7fb;
  --surface: #ffffff;
  --surface2: #fbfbfd;
  --border: #e7e8ee;

  --text: #0f172a;
  --muted: #64748b;

  --primary: #2563eb;
  --success: #16a34a;
  --warning: #f59e0b;
  --danger: #dc2626;
  --dark: #0f172a;

  --shadow: 0 14px 40px rgba(15, 23, 42, 0.10);
  --shadow2: 0 8px 22px rgba(15, 23, 42, 0.08);

  color: var(--text);
}

.pim-root * { box-sizing: border-box; }

.pim-container {
  padding: 18px;
  background: var(--bg);
  border-radius: 16px;
  min-height: calc(100vh - 90px);
}

/* header */
.pim-header {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow2);
  padding: 16px;
  margin-bottom: 14px;
}
.pim-header h1 {
  margin: 0;
  font-size: 18px;
  font-weight: 950;
  display: flex;
  gap: 10px;
  align-items: center;
}
.pim-header h1 i { color: var(--primary); }

/* search */
.pim-search-section { margin-bottom: 14px; }
.pim-search-container {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow2);
  padding: 12px 12px;
  display: flex;
  align-items: center;
  gap: 10px;
}
.pim-search-icon { color: #94a3b8; }
.pim-smart-search-input {
  width: 100%;
  border: none;
  outline: none;
  background: transparent;
  color: var(--text);
  font-size: 14px;
}
.pim-smart-search-input::placeholder { color: #9aa3b2; }
.pim-search-stats {
  margin-top: 8px;
  font-size: 12px;
  color: var(--muted);
  font-weight: 800;
}

/* results */
.pim-results-section {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow2);
  overflow: hidden;
}
.pim-section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 14px 16px;
  border-bottom: 1px solid var(--border);
  background: var(--surface2);
}
.pim-section-header h2 {
  margin: 0;
  font-size: 14px;
  font-weight: 950;
  display: flex;
  gap: 10px;
  align-items: center;
}
.pim-section-header h2 i { color: #475569; }
.pim-pagination-controls {
  display: flex;
  gap: 10px;
  align-items: center;
  font-size: 12px;
  color: var(--muted);
}
.pim-page-size-select {
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 8px 10px;
  background: #fff;
  outline: none;
}
.pim-page-size-select:focus {
  border-color: rgba(37, 99, 235, 0.45);
  box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.12);
}

/* table */
.pim-table-wrapper { width: 100%; overflow-x: auto; }
.pim-job-order-table {
  width: 100%;
  border-collapse: collapse;
  min-width: 980px;
}
.pim-job-order-table thead th {
  text-align: left;
  font-size: 12px;
  font-weight: 950;
  color: #64748b;
  padding: 12px 14px;
  border-bottom: 1px solid var(--border);
  background: #fafafa;
}
.pim-job-order-table tbody td {
  padding: 12px 14px;
  border-bottom: 1px solid #eef0f5;
  font-size: 13px;
}
.pim-job-order-table tbody tr:hover td { background: #fbfcff; }
.pim-strong { font-weight: 950; }
.pim-date-column { color: #475569; }

/* badges */
.pim-badge {
  display: inline-flex;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid #e6e9f2;
  background: #f6f7fb;
  font-size: 12px;
  font-weight: 950;
  color: #334155;
}
.pim-status-new-request { background: #eef2ff; border-color: rgba(37,99,235,.25); color: #1d4ed8; }
.pim-status-inspection { background: #fff7ed; border-color: rgba(245,158,11,.25); color: #b45309; }
.pim-status-inprogress { background: #ecfeff; border-color: rgba(6,182,212,.25); color: #0e7490; }
.pim-status-quality-check { background: #f5f3ff; border-color: rgba(139,92,246,.25); color: #6d28d9; }
.pim-status-ready { background: #ecfdf5; border-color: rgba(16,185,129,.25); color: #047857; }
.pim-status-completed { background: #dcfce7; border-color: rgba(22,163,74,.25); color: #166534; }
.pim-status-cancelled { background: #fee2e2; border-color: rgba(220,38,38,.25); color: #991b1b; }

.pim-payment-full { background: #dcfce7; border-color: rgba(22,163,74,.25); color: #166534; }
.pim-payment-partial { background: #fef3c7; border-color: rgba(245,158,11,.25); color: #92400e; }
.pim-payment-unpaid { background: #e5e7eb; border-color: #d1d5db; color: #374151; }
.pim-payment-refunded { background: #e0e7ff; border-color: rgba(99,102,241,.25); color: #3730a3; }

/* actions button */
.btn-action-dropdown {
  border: 1px solid rgba(37, 99, 235, 0.25);
  background: var(--primary);
  color: #fff;
  padding: 9px 10px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 950;
  font-size: 12px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
  box-shadow: 0 8px 18px rgba(37, 99, 235, 0.18);
}
.btn-action-dropdown:hover { transform: translateY(-1px); filter: brightness(1.03); }
.btn-action-dropdown.active { filter: brightness(0.98); }

/* dropdown */
.action-dropdown-menu-fixed {
  position: fixed;
  z-index: 9999;
  width: 220px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: #ffffff;
  box-shadow: var(--shadow);
  overflow: hidden;
}
.action-dropdown-menu.show { animation: pimFadeUp .12s ease-out; }
@keyframes pimFadeUp { from{opacity:0; transform:translateY(8px);} to{opacity:1; transform:translateY(0);} }

.dropdown-item {
  width: 100%;
  border: none;
  background: transparent;
  padding: 12px 12px;
  text-align: left;
  cursor: pointer;
  display: flex;
  gap: 10px;
  align-items: center;
  font-weight: 900;
  font-size: 13px;
  color: var(--text);
}
.dropdown-item:hover { background: #f6f7fb; }
.dropdown-item.view i { color: var(--primary); }
.dropdown-item.delete i { color: var(--danger); }
.dropdown-divider { height: 1px; background: #eef0f5; }

/* pagination */
.pim-pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
  padding: 14px 16px;
  background: #fff;
}
.pim-pagination-btn {
  border: 1px solid var(--border);
  background: #fff;
  color: var(--text);
  padding: 9px 10px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 950;
  font-size: 12px;
  min-width: 40px;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.pim-pagination-btn:hover:not(:disabled) { transform: translateY(-1px); box-shadow: var(--shadow2); background: #fbfcff; }
.pim-pagination-btn:disabled { opacity: .55; cursor: not-allowed; transform: none; }
.pim-pagination-btn.active { background: #eef2ff; border-color: rgba(37,99,235,.25); }
.pim-page-numbers { display: flex; gap: 8px; }

/* footer */
.pim-footer {
  margin-top: 14px;
  text-align: center;
  color: #94a3b8;
  font-size: 12px;
}

/* empty */
.pim-empty-state { padding: 28px 16px; text-align: center; }
.pim-empty-icon { font-size: 28px; color: #cbd5e1; margin-bottom: 10px; }
.pim-empty-text { font-weight: 950; color: var(--muted); }
.pim-empty-subtext { color: #94a3b8; font-size: 12px; margin-top: 4px; }

/* ---------------- DETAILS UI ---------------- */
.pim-details-screen {
  padding: 18px;
  background: var(--bg);
  border-radius: 18px;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}
.pim-details-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow2);
  padding: 14px 14px;
  margin-bottom: 14px;
}
.pim-details-header h2 {
  margin: 0;
  font-size: 16px;
  font-weight: 950;
  display: flex;
  gap: 10px;
  align-items: center;
}
.pim-details-header h2 i { color: var(--primary); }

.pim-btn-close-details {
  border: 1px solid rgba(220,38,38,.25);
  background: var(--danger);
  color: #fff;
  border-radius: 12px;
  padding: 10px 12px;
  cursor: pointer;
  font-weight: 950;
  font-size: 12px;
  display: inline-flex;
  gap: 8px;
  align-items: center;
}

.pim-details-grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 14px;
}
.pim-card {
  grid-column: span 6;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow2);
  overflow: hidden;
}
.pim-card-full { grid-column: span 12; }

.pim-card h3 {
  margin: 0;
  padding: 14px 16px;
  background: #fafafa;
  border-bottom: 1px solid var(--border);
  font-size: 13px;
  font-weight: 950;
  display: flex;
  gap: 10px;
  align-items: center;
}
.pim-card h3 i { color: #475569; }

.pim-card-content { padding: 14px 16px; display: grid; gap: 10px; }
.pim-info-row {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid #eef0f5;
  background: #fff;
}
.pim-label { font-size: 12px; font-weight: 900; color: var(--muted); }
.pim-value { font-size: 12px; font-weight: 950; color: var(--text); text-align: right; }

.pim-actions { display: flex; gap: 10px; flex-wrap: wrap; }
.pim-card-head-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: #fafafa;
  border-bottom: 1px solid var(--border);
}

/* buttons */
.pim-btn {
  border: none;
  border-radius: 12px;
  padding: 10px 12px;
  cursor: pointer;
  font-weight: 950;
  font-size: 12px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
}
.pim-btn:disabled { opacity: .6; cursor: not-allowed; transform: none; }

.pim-btn-primary { background: var(--primary); color: #fff; box-shadow: 0 10px 18px rgba(37,99,235,.16); }
.pim-btn-success { background: var(--success); color: #fff; box-shadow: 0 10px 18px rgba(22,163,74,.16); }
.pim-btn-warn { background: var(--warning); color: #fff; box-shadow: 0 10px 18px rgba(245,158,11,.16); }
.pim-btn-dark { background: var(--dark); color: #fff; box-shadow: 0 10px 18px rgba(15,23,42,.16); }
.pim-btn-ghost { background: #0f172a; color: #fff; box-shadow: 0 10px 18px rgba(15,23,42,.14); }

.pim-btn:hover { transform: translateY(-1px); filter: brightness(1.03); }

.pim-green { color: #166534 !important; }
.pim-red { color: #991b1b !important; }

/* billing grid */
.pim-billing-grid {
  padding: 14px 16px;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
}
.pim-billing-item {
  border: 1px solid #eef0f5;
  border-radius: 14px;
  padding: 12px;
  background: #fff;
}
.pim-billing-item span { display: block; font-size: 12px; font-weight: 900; color: var(--muted); margin-bottom: 6px; }
.pim-billing-item strong { font-size: 13px; font-weight: 950; color: var(--text); }

/* approvals */
.pim-approvals { padding: 14px 16px; display: grid; gap: 10px; }
.pim-approval {
  border-radius: 16px;
  border: 1px solid #eef0f5;
  background: #fff;
  padding: 12px;
}
.pim-approval-top { display: flex; justify-content: space-between; gap: 12px; align-items: center; }
.pim-approval-title { font-weight: 950; }
.pim-approval-sub { color: var(--muted); font-weight: 900; margin-left: 6px; }
.pim-approval-status { font-weight: 950; }
.pim-approval-meta { margin-top: 10px; display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
.pim-approval-meta span { display: block; font-size: 11px; color: var(--muted); font-weight: 900; margin-bottom: 4px; }
.pim-approval-meta strong { font-size: 12px; }
.pim-approval-note { margin-top: 10px; padding: 10px 12px; background: #f6f7fb; border: 1px solid #eef0f5; border-radius: 12px; color: #334155; font-weight: 800; }

.pim-pending { border-left: 5px solid var(--warning); }
.pim-approved { border-left: 5px solid var(--success); }
.pim-declined { border-left: 5px solid var(--danger); }

/* subcard */
.pim-subcard { padding: 14px 16px; border-top: 1px solid var(--border); background: #fff; }
.pim-subtitle { font-weight: 950; display:flex; gap:10px; align-items:center; margin-bottom: 10px; color: #0f172a; }
.pim-empty-inline { padding: 12px; border: 1px dashed #e5e7eb; border-radius: 12px; color: var(--muted); font-weight: 900; background: #fbfbfd; }

.pim-table-wrap { overflow-x: auto; }
.pim-table { width: 100%; border-collapse: collapse; min-width: 720px; }
.pim-table thead th { text-align:left; font-size:12px; font-weight:950; color:#64748b; padding:12px 14px; border-bottom: 1px solid var(--border); background:#fafafa; }
.pim-table tbody td { padding: 12px 14px; border-bottom: 1px solid #eef0f5; font-size: 12px; }

/* documents */
.pim-docs { padding: 14px 16px; display: grid; gap: 10px; }
.pim-doc {
  border: 1px solid #eef0f5;
  border-radius: 14px;
  padding: 12px;
  background: #fff;
  display: flex;
  justify-content: space-between;
  gap: 12px;
  align-items: center;
}
.pim-doc-name { font-weight: 950; }
.pim-doc-meta { font-size: 12px; color: var(--muted); font-weight: 800; margin-top: 4px; }

/* invoices */
.pim-invoices { display: grid; gap: 12px; }
.pim-invoice {
  border: 1px solid #eef0f5;
  border-radius: 16px;
  padding: 12px;
  background: #fff;
}
.pim-invoice-head {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  align-items: flex-start;
}
.pim-invoice-number { font-weight: 950; }
.pim-invoice-date { margin-top: 4px; font-size: 12px; color: var(--muted); font-weight: 800; }
.pim-invoice-amount { font-weight: 950; text-align: right; margin-bottom: 6px; }

.pim-invoice-meta {
  margin-top: 10px;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
}
.pim-invoice-meta span { display:block; font-size: 11px; color: var(--muted); font-weight: 900; margin-bottom: 4px; }
.pim-invoice-meta strong { font-size: 12px; }

.pim-invoice-services { margin-top: 10px; }
.pim-invoice-services-title {
  font-weight: 950;
  display: flex;
  gap: 8px;
  align-items: center;
  color: #0f172a;
  margin-bottom: 8px;
}
.pim-invoice-services-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 8px;
}
.pim-invoice-services-list li {
  border: 1px solid #eef0f5;
  background: #fbfbfd;
  border-radius: 12px;
  padding: 10px 12px;
  font-weight: 900;
  color: #334155;
  display: flex;
  gap: 10px;
  align-items: center;
}
.pim-invoice-services-list li i { color: #16a34a; }

/* popups text */
.pim-pop-title {
  display: block;
  font-size: 16px;
  font-weight: 950;
  color: #16a34a;
  margin-bottom: 10px;
}
.pim-pop-text {
  display: block;
  font-size: 14px;
  color: #334155;
}

/* modal */
.pim-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.40);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
}
.pim-modal {
  width: min(620px, calc(100vw - 24px));
  background: #fff;
  border-radius: 16px;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  overflow: hidden;
}
.pim-modal-header {
  padding: 14px 16px;
  background: #fafafa;
  border-bottom: 1px solid var(--border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}
.pim-modal-header h3 {
  margin: 0;
  font-size: 14px;
  font-weight: 950;
  display: flex;
  gap: 10px;
  align-items: center;
}
.pim-x {
  border: none;
  background: transparent;
  cursor: pointer;
  font-size: 18px;
  padding: 6px 8px;
  border-radius: 10px;
  color: #475569;
}
.pim-x:hover { background: #f3f4f6; }
.pim-modal-body { padding: 14px 16px; }

.pim-kpis {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-bottom: 12px;
}
.pim-kpi {
  border: 1px solid #eef0f5;
  border-radius: 14px;
  padding: 12px;
  background: #fbfbfd;
}
.pim-kpi span { display:block; font-size:12px; color: var(--muted); font-weight: 900; margin-bottom: 6px; }
.pim-kpi strong { font-weight: 950; }

.pim-form { display: grid; gap: 12px; }
.pim-field label { display:block; font-size: 12px; font-weight: 900; color:#334155; margin-bottom: 6px; }
.pim-field input,
.pim-field select {
  width: 100%;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 12px;
  font-size: 14px;
  outline: none;
  background: #fff;
}
.pim-field input:focus,
.pim-field select:focus {
  border-color: rgba(37, 99, 235, 0.45);
  box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.12);
}
.pim-help { font-size: 12px; color: var(--muted); font-weight: 800; margin-top: 6px; }
.pim-file-ok { margin-top: 8px; font-size: 12px; font-weight: 900; color: #166534; display:flex; gap:8px; align-items:center; }

.pim-modal-actions {
  padding: 14px 16px;
  border-top: 1px solid var(--border);
  background: #fff;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

/* cancel modal */
.cancel-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.40);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 10000;
}
.cancel-modal-overlay.active { display: flex; }
.cancel-modal {
  width: min(520px, calc(100vw - 24px));
  background: #fff;
  border-radius: 16px;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  overflow: hidden;
}
.cancel-modal-header {
  padding: 14px 16px;
  background: #fafafa;
  border-bottom: 1px solid var(--border);
}
.cancel-modal-header h3 {
  margin: 0;
  font-size: 14px;
  font-weight: 950;
  display: flex;
  gap: 10px;
  align-items: center;
}
.cancel-modal-body { padding: 14px 16px; }
.cancel-warning {
  display: flex;
  gap: 12px;
  border-radius: 14px;
  padding: 12px 12px;
  border: 1px solid rgba(220,38,38,0.20);
  background: rgba(220,38,38,0.06);
  margin-bottom: 14px;
}
.cancel-warning i { color: var(--danger); margin-top: 3px; }
.cancel-warning-text p { margin: 0; font-size: 13px; color: #334155; }
.cancel-modal-actions { display: flex; justify-content: flex-end; gap: 10px; }

.btn-cancel, .btn-confirm-cancel {
  border: none;
  border-radius: 12px;
  padding: 10px 12px;
  cursor: pointer;
  font-weight: 950;
  font-size: 12px;
  display: inline-flex;
  gap: 8px;
  align-items: center;
}
.btn-cancel { background: #0f172a; color: #fff; }
.btn-confirm-cancel { background: var(--danger); color: #fff; }
.btn-confirm-cancel:disabled { opacity: .65; cursor: not-allowed; }

/* responsive */
@media (max-width: 1100px) {
  .pim-details-grid { grid-template-columns: repeat(8, 1fr); }
  .pim-card { grid-column: span 8; }
  .pim-card-full { grid-column: span 8; }
}
@media (max-width: 900px) {
  .pim-details-grid { grid-template-columns: repeat(4, 1fr); }
  .pim-card { grid-column: span 4; }
  .pim-card-full { grid-column: span 4; }
  .pim-billing-grid { grid-template-columns: 1fr; }
  .pim-kpis { grid-template-columns: 1fr; }
  .pim-invoice-meta { grid-template-columns: 1fr; }
}